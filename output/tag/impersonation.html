<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>OrderCloud API Release Notes - impersonation</title>
        <link rel="stylesheet" href="../theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">OrderCloud API Release Notes </a></h1>
                <nav><ul>
                    <li><a href="../category/api-release.html">api-release</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../1.0.66-release-notes.html">API v1.0.66 Release Notes</a></h1>
<footer class="post-info">
        <abbr class="published" title="2017-12-03T10:20:00-06:00">
                Published: Sun 03 December 2017
        </abbr>
		<br />
        <abbr class="modified" title="2017-12-07T19:30:00-06:00">
                Updated: Thu 07 December 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="../author/kate-reeher.html">Kate Reeher</a>
        </address>
<p>In <a href="../category/api-release.html">api-release</a>.</p>
<p>tags: <a href="../tag/incrementation-config.html">incrementation-config</a> <a href="../tag/impersonation.html">impersonation</a> </p>
</footer><!-- /.post-info --><blockquote>
<p>Released to Production on December 7th, 2017</p>
</blockquote>
<h1>New Features</h1>
<h2>Customized Platform Object ID Generation</h2>
<p>A big question we get from clients a lot is "How can I make the OrderCloud API IDs work nicely with the IDs from my ERP or other internal systems?". </p>
<p>Prior to API 1.0.66, you could either set the ID manually (which is a pain if you want incrementation to work well) or you could settle for the default platform random GUID, and keep track of your ERP integration ID in an <code>xp</code>, or some other work around.</p>
<p>We've added a new feature that aims to make this process much, much simpler! <code>Incrementation Config</code> allows you to create a customized pattern for ID generation. </p>
<p><code>Incrementation Config</code></p>
<div class="highlight"><pre><span></span>{
  &quot;ID&quot;: &quot;&quot;,
  &quot;Name&quot;: &quot;&quot;,
  &quot;LastNumber&quot;: 0,
  &quot;LeftPaddingCount&quot;: 0
}
</pre></div>


<p>The important parts here are the <code>LastNumber</code> and the <code>LeftPaddingCount</code>. </p>
<h3>Examples:</h3>
<p><em>Objective:</em> Every order from a buyer should start with the buyer company's name, TestCorp, so that it can be differentiated easily by the supplier. The total number of characters for an ID can only be 20 characters long. (ex: <code>TestCorp-00000000001</code>)</p>
<ol>
<li>Create the Incrementor Config </li>
</ol>
<p><code>POST /v1/incrementors/</code></p>
<div class="highlight"><pre><span></span>{
  &quot;ID&quot;: &quot;config01&quot;,
  &quot;Name&quot;: &quot;Bob&quot;,
  &quot;LastNumber&quot;: 0,
  &quot;LeftPaddingCount&quot;: 10 
}
</pre></div>


<ol>
<li>Create the order using the Incrementor Config</li>
</ol>
<p><code>POST /v1/orders/outgoing</code></p>
<div class="highlight"><pre><span></span>{
    &quot;ID&quot;:&quot;TestCorp-{config01}&quot;
}
</pre></div>


<p>returns as:</p>
<div class="highlight"><pre><span></span>{
  &quot;ID&quot;: &quot;TestCorp-00000000001&quot;,
...
}
</pre></div>


<p>If you make another order with this Incrementor Config, you'll get <code>TestCorp-00000000002</code> and so on. </p>
<p>This Incrementor Config can be used for both object creation, and <code>PATCH</code>/<code>PUT</code> updates. Additionally, once created, the Incrementor Config's <code>LastNumber</code> reflects the last number incremented to. So, if the last ID generated by <code>config01</code> was <code>TestCorp-00000000011</code>, the <code>LastNumber</code> for <code>config01</code> would be <code>11</code> at that moment.</p>
<h3>Caveats:</h3>
<p>1 - Left-padding does not represent a <em>maximum</em> value for the ID. If you have</p>
<div class="highlight"><pre><span></span>{
  &quot;ID&quot;: &quot;config01&quot;,
  &quot;Name&quot;: &quot;Bob&quot;,
  &quot;LastNumber&quot;: 0,
  &quot;LeftPaddingCount&quot;: 1 
}
</pre></div>


<p>when you get to 99, the ID will continue incrementing. If you're using it as in the above example, where your ERP expects ONLY x number of characters, this is going to cause some problems. </p>
<p>2 - While you <em>can</em> reuse the same incrementator on different endpoints -- such as using <code>config01</code> for both products and orders, for some reason -- the incrementation will be across <em>both</em> endpoints.</p>
<p><em>EX:</em></p>
<div class="highlight"><pre><span></span>Order 1 with `config01` - `Order-00000000001`
Product 1 with `config01` - `Product-00000000002`
Order 1 with `config01` - `Order-00000000003`
Order 1 with `config01` - `Order-00000000004`
Order 1 with `config01` - `Order-00000000005`
Product 1 with `config01` - `Product-00000000006`
</pre></div>


<p>3 - If you're not careful about how you handle your asynchronous API calls, it's much easier to accidentally try to create duplicate IDs. So be hygienic with your async calls! </p>
<p>4 - If you decide to reset the incrementor's <code>LastNumber</code>, you can end up trying to create duplicate IDs again. Be careful!</p>
<h2>Allowing a Buyer User to impersonate a Buyer User from a different company</h2>
<p>Now, instead of a Buyer User only being able to <a href="https://documentation.ordercloud.io/platform-guides/authentication/impersonation">impersonate</a> a Buyer User within the same Buyer, a Buyer User can impersonate a Buyer User in a different Buyer, as long as they're within the same Seller organization. </p>
<p>This is useful if you have a customer user that works for multiple of your customers. This allows them to interact within those buyers uniquely, but maintain their user account easily.</p>
<h1>Bug Fixes</h1>
<h2>Duplicate Products returned in <code>ME</code> Product Lists</h2>
<p>We've fixed a problem where, sometimes in very large catalogs with complicated category structures, a user using a <a href=""><code>GET me/products</code> list</a> would return some duplicate products. This fix should also show some minor performance improvements for very large catalog list calls.</p>
<h2>Post-Submit Order Changes Triggered Promotion Evaluation</h2>
<p>Previously, if you tried to alter an order with a promotion after it had been submitted, and the promotion had expired, your alteration would throw an error. We've fixed this so that promotions are never evaluated after order submit now.</p>
<h2>Various performance improvements and other small bug fixes.</h2>
<p>What it says on the tin. </p>                </article>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="https://ordercloud.io">OrderCloud.io</a></li>
                            <li><a href="https://documentation.ordercloud.io/">OrderCloud Documentation</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">OrderCloud.io Twitter</a></li>
                            <li><a href="#">OrderCloud.io Community Slack</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>