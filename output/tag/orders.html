<!doctype html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>OrderCloud API Release Notes</title>
		<meta name="description" content="">
		<meta name="author" content="OrderCloud">

		<link rel="stylesheet" href="https://ordercloud-api.github.io/release-notes/theme/css/foundation.css" />
		<link rel="stylesheet" href="https://ordercloud-api.github.io/release-notes/theme/css/pygment/monokai.css" />
		<link rel="stylesheet" href="https://ordercloud-api.github.io/release-notes/theme/css/custom.css" />

		<!-- GOOGLE WEB FONTS -->
		<link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Droid+Sans+Mono|Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="https://ordercloud-api.github.io/release-notes/theme/css/alt-fonts.css" />

		<script src="https://ordercloud-api.github.io/release-notes/theme/js/modernizr.js"></script>

		<!-- Feeds -->
		<link href="https://ordercloud-api.github.io/release-notes/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="OrderCloud API Release Notes Atom Feed" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-82258138-2', 'UA-82258138-2');
  ga('send', 'pageview');
</script>

		<!-- mathjax config similar to math.stackexchange -->
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			jax: ["input/TeX", "output/HTML-CSS"],
			tex2jax: {
				inlineMath: [ ['$', '$'] ],
				displayMath: [ ['$$', '$$']],
				processEscapes: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
			},
			messageStyle: "none",
			"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
		});
		</script>
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	</head>
	<body>
		<div class="off-canvas-wrap">
			<div class="inner-wrap">
				<!-- mobile top bar to activate nav -->
				<nav class="tab-bar show-for-small">
					<section class="left-small">
						<a class="left-off-canvas-toggle menu-icon" ><span></span></a>
					</section>

					<section class="middle tab-bar-section">
						<h1 class="title">OrderCloud&nbsp;API&nbsp;Release&nbsp;Notes</h1>
					</section>
				</nav>

				<!-- mobile side bar nav -->
				<aside class="left-off-canvas-menu">
					<ul class="off-canvas-list">
						<li><a href="https://ordercloud-api.github.io/release-notes">Home</a></li>
						<li><label>Categories</label></li>
							<li ><a href="https://ordercloud-api.github.io/release-notes/category/blog-posts.html">Blog Posts</a></li>
							<li ><a href="https://ordercloud-api.github.io/release-notes/category/release-notes.html">release-notes</a></li>

						<li><label>Links</label></li>
							<li><a href="https://ordercloud.io">OrderCloud.io</a></li>
							<li><a href="https://documentation.ordercloud.io/">OrderCloud Documentation</a></li>
							<li><a href="http://community.ordercloud.io/">OrderCloud.io Community Support Slack</a></li>


						<li><label>Monthly Archives</label></li>
									<li><a href="/posts/2016/Jun/index.html">June 2016 (1)</a></li>
									<li><a href="/posts/2016/Apr/index.html">April 2016 (1)</a></li>

						<li><label>Social</label></li>
							<li><a href="localhost:8000/release-notes/feeds/all.atom.xml">Full Site RSS</a></li>
							<li><a href="https://twitter.com/ordercloudapi">OrderCloud.io Twitter</a></li>
							<li><a href="localhost:8000/release-notes/feeds/release-notes.atom.xml">Release Notes RSS</a></li>
					</ul>	
				</aside>

				<!-- top bar nav -->
				<nav class="top-bar hide-for-small-only" data-topbar>
					<ul class="title-area">
						<li class="name">
							<h1><a href="https://ordercloud-api.github.io/release-notes/">OrderCloud API Release Notes</a></h1>
						</li>
					</ul>

					<section class="top-bar-section">
						<ul class="left">
								<li ><a href="https://ordercloud-api.github.io/release-notes/category/blog-posts.html">Blog Posts</a></li>
								<li ><a href="https://ordercloud-api.github.io/release-notes/category/release-notes.html">release-notes</a></li>
						</ul>
                        <ul class="right">                                                                                                                                           
                                                                                                                                             
                        </ul>  
					</section>
				</nav>

				<!-- Main Page Content and Sidebar -->
				<section class="main-section">
					<div class="row">
						<!-- Main Content -->
						<div class="medium-9 small-12 columns" role="content">
							<div class="row">
								<div class="small-12 columns">
									<h2>Posts Tagged With 'Orders'</h2>
								</div>
							</div>

<article>
	<h3><a href="https://ordercloud-api.github.io/release-notes/rules-engine-has-arrived.html">The Rules Engine Has Arrived, and It’ll Do for Behavior What <span class="caps">XP</span> Did for&nbsp;Data</a></h3>
	<h6>Written by <a href="https://ordercloud-api.github.io/release-notes/author/todd-menier.html">Todd Menier</a> in <a href="https://ordercloud-api.github.io/release-notes/category/blog-posts.html">Blog Posts</a> on Mon 13 June 2016. Tags: <a href="https://ordercloud-api.github.io/release-notes/tag/development.html">Development</a>, <a href="https://ordercloud-api.github.io/release-notes/tag/rules-engine.html">Rules Engine</a>, <a href="https://ordercloud-api.github.io/release-notes/tag/orders.html">Orders</a>, <a href="https://ordercloud-api.github.io/release-notes/tag/order-approvals.html">Order Approvals</a>, </h6>
	<p>The Platform Team is excited to announce the release of our shiny new rules engine, with its first application being to power <strong>order approval</strong> workflows.</p>
<h2>What’s a rules engine?</h2>
<p>Simply put, it’s a system that executes rules. </p>
<p>Okay… so what’s a rule? </p>
<p>In its simplest form, it’s an if-then statement that is provided from the outside, rather than being “baked into” the engine itself. In the case of OrderCloud.io, we’ll define the “thens” (starting with “order requires approval”) and allow you to define the “if”s via custom logic expressions. Effectively, we’re going to allow you to extend platform behavior in much the same way <code>XP</code> allows you to extend the data model.</p>
<h2>Let’s see an example.</h2>
<p>Say you want every order over $200 with some specific <code>XP</code> value to require approval from a manager. You would first create a <code>UserGroup</code> containing all approving managers, then create a new <code>ApprovalRule</code>, setting the <code>ApprovingGroupID</code> to the <span class="caps">ID</span> of the new <code>UserGroup</code>, and setting <code>ApprovalRule.Expression</code> to this:</p>
<p><code>order.Total &gt; 200 and order.xp.MyCustomProperty = 'XYZ'</code></p>
<p>A couple things to note:</p>
<ul>
<li><code>order</code> supports the same properties as the Order model returned from /orders <span class="caps">API</span> endpoints, including <code>XP</code>.</li>
<li><code>=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>&lt;&gt;</code> comparison operators are supported.</li>
<li><code>and</code>, <code>or</code>, and <code>not</code> logical operators are supported.</li>
<li><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> mathematical operators are supported.</li>
<li>String values must be enclosed in straight single quotes.</li>
<li>Date values must be enclosed in # symbols, e.g. <code>#6/15/2016#</code></li>
<li>Parentheses may be used to enclose sub-expressions and control order of execution.</li>
</ul>
<h2>What about line items?</h2>
<p>Glad you asked, because which products are being purchased, in what quantities, charged against which cost centers, etc, are very common in the world of approval rules. But line items are a collection, so we use <strong>aggregate functions</strong> to inspect them. </p>
<p>Here’s how you would require approval on all orders over $200 charged to cost center <span class="caps">ABC</span>:
<code>order.Total &gt; 200 and items.any(CostCenter = 'ABC')</code></p>
<p>That’s pretty powerful, but it’s more likely that you only care about the subtotal of just the line items matching your CostCenter condition. 
For this you can use the items.total function:</p>
<p><code>items.total(CostCenter = 'ABC') &gt; 200</code></p>
<p>The condition inside the function (called a filter) can be more complex and contain and, or, etc. just like other parts of the expression:</p>
<p><code>items.quantity(ProductID = 'P1' or ProductID = 'P2') &gt; 5</code></p>
<p><code>items</code> supports a total of 4 functions:
- <code>items.any</code> (true if any item matches filter)
- <code>items.all</code> (true if all items match filter)
- <code>items.quantity</code> (compare result to a number)
- <code>items.total</code> (compare result to a dollar amount)</p>
<p>Speaking of functions, there is one defined on order:</p>
<p><code>order.approved('id_of_some_other_rule')</code></p>
<p>This one’s powerful, because it allows you to set up multi-level approval workflows by chaining rules together. For example, in a larger organization, getting the approval from a department manager might not be enough, and a higher-level <span class="caps">VP</span> must also sign off.</p>
<p>There’s nothing to stop you from using <code>and</code> or <code>or</code> in conjunction with multiple order.approved checks, if that’s what’s needed to support your flow. In fact, all valid elements of rule expressions can be mixed <span class="amp">&amp;</span> matched as needed, allowing for very sophisticated rules to be supported:</p>
<p><code>(order.Total &gt; 20 and order.approved('rule_id_1')) or (not item.any(ProductID = 'QQQ') and approved('rule_id_2'))</code></p>
<h2>A word of caution:</h2>
<p>Rules are easy to write and very powerful, but can be tricky to debug when they don’t work quite like you thought they would. While you can write very complex expressions, don’t get more fancy with them than you need to. In some cases it might make sense to break a complex rule into 2 or more simpler rules. As always, we’re here to help if you need guidance.</p>
<h2>What else can I do with this?</h2>
<p>Now that you have a better understanding of the power of rules, you might be wondering what other areas of the platform might we apply them to. Here are a few ideas currently being kicked around:</p>
<ul>
<li>Custom validation (upon creating/editing things)</li>
<li>Time-based approval rules (aggregated totals over past week/month/quarter, etc.)</li>
<li>Applying discounts/markups</li>
<li>Determining coupon eligibility</li>
<li>Replenish inventory</li>
<li>Fire off a notification via <a href="https://documentation.ordercloud.io/integration-services/overview/your-first-webhook">Webhooks</a></li>
</ul>
<p>In short, order approvals are just the beginning. We envision this new rules engine playing a key role in our <a href="https://ordercloud-api.github.io/release-notes/flexibility-over-features.html">“Flexibility over Features“</a> platform strategy. Stay tuned!</p>
</article>
<hr />
<article>
	<h3><a href="https://ordercloud-api.github.io/release-notes/1.0.14.0-release-notes.html"><span class="caps">API</span> v1.0.14.0 Release&nbsp;Notes</a></h3>
	<h6>Written by <a href="https://ordercloud-api.github.io/release-notes/author/kate-reeher.html">Kate Reeher</a> in <a href="https://ordercloud-api.github.io/release-notes/category/release-notes.html">release-notes</a> on Tue 05 April 2016. Tags: <a href="https://ordercloud-api.github.io/release-notes/tag/payment-types.html">Payment Types</a>, <a href="https://ordercloud-api.github.io/release-notes/tag/orders.html">Orders</a>, </h6>
	<p>Released to Prod on Tuesday, April 5th, 2016 at 8 <span class="caps">PM</span> <span class="caps">CST</span>.</p>
<h2>Changelog</h2>
<ul>
<li>We’ve added some new functionality around how we store credit card and other payment transactions. If your app uses our credit card processing, you’ll probably want to check out the <a href="https://devcenter.ordercloud.io/docs#Payments">documentation</a> on Payments, and make sure everything is working the way you expect.</li>
<li>You can now use partial updates ( <code>PATCH</code> calls) to update fields on any model to <span class="caps">NULL</span> instead of having to overwrite with some other value!</li>
<li>We’ve changed how you can check if all the line items on an Order are being shipped to the same place. While you could previously set all the line items on an order to the same address by writing to <code>Order.ShippingAddressID</code> , the value was write-only. Now <code>Order.ShippingAddressID</code>  will return a non-null value if and only if all the line items on that order have the same shipping address. Check out the <a href="https://devcenter.ordercloud.io/docs#Orders_Update">documentation</a> for more on this.</li>
<li>To go along with the above, if Order.ShippingAddressID is non-null (that is, all the line items are being shipped to the same place), newly added line items will inherit that shipping address. </li>
<li>Some performance improvements were made around working with line-items. If your app has a lot of <code>PATCH</code>ing  of line items, you’ll hopefully notice those improvements.</li>
</ul>
</article>
<hr />


						</div>
						<!-- End Main Content -->
						<!-- Sidebar -->
						<aside class="medium-3 hide-for-small-only columns">
							<div class="panel">
								<h5>Links</h5>
								<ul class="side-nav">
									<li><a href="https://ordercloud.io">OrderCloud.io</a></li>
									<li><a href="https://documentation.ordercloud.io/">OrderCloud Documentation</a></li>
									<li><a href="http://community.ordercloud.io/">OrderCloud.io Community Support Slack</a></li>
								</ul>
							</div>

							<div class="panel">
								<h5>Tags</h5>
								<ul class="tag-cloud">
									<li><a href="/tag/product-variants.html" class="tag-4">Product Variants</a></li>
									<li><a href="/tag/orders.html" class="tag-1">Orders</a></li>
									<li><a href="/tag/rules-engine.html" class="tag-1">Rules Engine</a></li>
									<li><a href="/tag/ordercloud-api.html" class="tag-4">OrderCloud API</a></li>
									<li><a href="/tag/order-approvals.html" class="tag-4">Order Approvals</a></li>
									<li><a href="/tag/promotion-rules.html" class="tag-4">Promotion Rules</a></li>
									<li><a href="/tag/put.html" class="tag-4">PUT</a></li>
									<li><a href="/tag/payment-types.html" class="tag-1">Payment Types</a></li>
									<li><a href="/tag/development.html" class="tag-4">Development</a></li>
									<li><a href="/tag/breaking-changes.html" class="tag-1">Breaking Changes</a></li>
									<li><a href="/tag/xp.html" class="tag-1">XP</a></li>
									<li><a href="/tag/patch.html" class="tag-4">PATCH</a></li>
									<li><a href="/tag/approval-rules.html" class="tag-4">Approval Rules</a></li>
									<li><a href="/tag/integrations.html" class="tag-4">Integrations</a></li>
								</ul>
							</div>

							<div class="panel">
								<h5>Monthly Archives</h5>
								<ul class="side-nav">
											<li><a href="/posts/2016/Jun/index.html">June 2016 (1)</a></li>
											<li><a href="/posts/2016/Apr/index.html">April 2016 (1)</a></li>
								</ul>
							</div>

							<div class="panel">
								<h5>Social</h5>
								<ul class="side-nav">
									<li><a href="localhost:8000/release-notes/feeds/all.atom.xml">Full Site RSS</a></li>
									<li><a href="https://twitter.com/ordercloudapi">OrderCloud.io Twitter</a></li>
									<li><a href="localhost:8000/release-notes/feeds/release-notes.atom.xml">Release Notes RSS</a></li>
								</ul>
							</div>
						</aside>
						<!-- End Sidebar -->
					</div>

					<!-- Footer -->
					<footer class="row">
						<div class="medium-9 small-12">
							<hr/>
							<p class="text-center">Powered by <a href="http://getpelican.com">Pelican</a>. Theme by <a href="http://hamaluik.com">Kenton Hamaluik</a>.</p>
						</div>
					</footer>
					<!-- End Footer -->
				</section>
				<a class="exit-off-canvas"></a>
			</div><!--off-canvas inner-->
		</div><!--off-canvas wrap-->

		<script src="https://ordercloud-api.github.io/release-notes/theme/js/jquery.js"></script>
		<script src="https://ordercloud-api.github.io/release-notes/theme/js/foundation.min.js"></script>
		<script>
			$(document).foundation();
		</script>
	</body>
</html>